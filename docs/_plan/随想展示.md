
# 博客展示功能实施计划

根据您的需求，我将为您制定一个分阶段的计划，实现类似图片中展示的博客列表功能。这确实需要一些自定义组件和数据处理逻辑。

## 一、需求分析

1. **功能需求**：
   - 展示`thoughts`目录下的文章（博客）
   - 类似图片中的卡片式布局
   - 显示标题、日期、摘要、封面图
   - 按日期排序

2. **设计参考**：
   - 每篇文章显示为卡片
   - 含有醒目的封面图
   - 显示发布日期和作者
   - 显示摘要内容

## 二、实施计划

### 阶段1：创建博客列表组件（3天）

1. **创建自定义组件**:
   - 创建`docs/.vitepress/theme/components/BlogList.vue`组件
   - 创建`docs/.vitepress/theme/components/BlogCard.vue`组件

2. **设计数据获取逻辑**:
   - 开发从`thoughts`目录读取博客文章的函数
   - 提取frontmatter中的元数据（标题、日期、描述、封面图）

### 阶段2：设计博客页面和路由（2天）

1. **创建博客列表页面**:
   - 修改`docs/thoughts/index.md`为博客列表页
   - 集成BlogList组件

2. **配置路由和导航**:
   - 确保思考随笔导航项正确指向博客列表页

### 阶段3：样式和交互设计（2天）

1. **设计卡片样式**:
   - 响应式布局（移动端适配）
   - 悬停效果
   - 封面图优化

2. **列表分页功能**:
   - 实现分页控件
   - 设置每页显示数量

### 阶段4：集成和测试（2天）

1. **集成到主题**:
   - 在主题中注册组件
   - 确保样式正确加载

2. **测试与优化**:
   - 测试各种屏幕尺寸
   - 优化加载性能

## 三、技术方案

### 1. 博客数据获取

创建一个工具函数，用于获取和处理博客文章：

```js
// docs/.vitepress/theme/utils/getBlogPosts.js
import fs from 'fs'
import path from 'path'
import matter from 'front-matter'
import { createContentLoader } from 'vitepress'

// 使用VitePress的内容加载器读取博客文章
export const blogPosts = createContentLoader('thoughts/**/*.md', {
  excerpt: true,
  transform(raw) {
    return {
      title: raw.frontmatter.title || '',
      date: raw.frontmatter.date || '',
      description: raw.frontmatter.description || '',
      cover: raw.frontmatter.cover || '/images/文章封面/default-cover.jpg',
      author: raw.frontmatter.author || '友人A',
      url: raw.url,
      excerpt: raw.excerpt
    }
  },
  sort: (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()
})
```

### 2. 博客卡片组件

```vue
<!-- docs/.vitepress/theme/components/BlogCard.vue -->
<template>
  <div class="blog-card">
    <div class="blog-card-cover">
      <img :src="post.cover" :alt="post.title">
    </div>
    <div class="blog-card-content">
      <h3 class="blog-card-title">
        <a :href="post.url">{{ post.title }}</a>
      </h3>
      <div class="blog-card-meta">
        <span class="blog-card-date">{{ formatDate(post.date) }}</span>
        <span class="blog-card-author">{{ post.author }}</span>
      </div>
      <p class="blog-card-excerpt">{{ post.description }}</p>
    </div>
  </div>
</template>
```

### 3. 主题集成

修改主题文件，注册自定义组件：

```js
// docs/.vitepress/theme/index.js
import DefaultTheme from 'vitepress/theme'
import BlogList from './components/BlogList.vue'
import './styles/blog.css'

export default {
  extends: DefaultTheme,
  enhanceApp({ app }) {
    app.component('BlogList', BlogList)
  }
}
```

## 四、所需资源和依赖

1. **技术依赖**:
   - front-matter (已安装)
   - VitePress内置函数
   - Vue组件系统

2. **资源需求**:
   - 博客封面图 (默认和自定义)
   - CSS样式设计

这个计划需要约9天完成基本功能，您认为这个方向合适吗？如果您同意，我可以开始第一阶段的实施，首先创建博客列表的基础组件和数据获取功能。
